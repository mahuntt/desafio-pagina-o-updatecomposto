# Desafio: Construção de paginação e update composto por query dinâmica

## Introdução:
#### Nesse desafio, foi solicitado a construção de uma procedure para realizar uma consulta no banco de dados com o conceito de paginação. A “aplicação” deve trazer uma amostragem de dados das pessoas cadastradas no banco por meio de paginação através de procedure (spc_customerbasicQuery), com output de ID, Nome, CPF e Email, com os parâmetros de @NumberPages e @NumberItemPage. O número de páginas ou a quantidade de registros a serem retornados, por padrão deve ser de 20 registros por página. 
#### Outra parte do desafio foi criar duas procedures de relatório, uma para buscar clientes que realizaram o orçamento mas não finalizaram a compra (nesse modelo de negócio, clientes que finalizaram a compra são aqueles que possuem Ordem de Serviço) e outra para buscar os 10 clientes que mais gastaram na oficina em determinado mês.
#### Foi solicitado também uma procedure que retorne todos os dados de um cliente especifico (spc_customerFullQueryID). Como há a possibilidade de alteração dos dados do cliente, foi necessário persistir os dados, chamando outra procedure (spu_customerByID) para dar update nos dados de forma dinâmica, alterando apenas o que for necessário ao invés de ter que colocar todos os parâmetros.

##### Vale ressaltar que os destaques desse desafio foi o uso de CEILING na procedure de paginação, para garantir que quando o usuário solicitar um número de páginas maior que o disponível, não tenha problemas na aplicação. O uso da COLLATE na procedure que retorna todos os dados de um cliente é de extrema importância, visto que por padrão, o SQL Server tem a Latin1_General_CI_AS, que torna a acentuação sensitiva, podendo gerar erros e confusão por quem utilizará a aplicação. O uso da cláusula STUFF também deve ser ressaltada, com ela podemos remover o caractere ',' e fazer a tratativa da vírgula para dar update apenas no que for solicitado pelas variáveis.
